!function(){"use strict";document.addEventListener("shopify:block:select",(e=>{const t=e.target.hasAttribute("data-collapsible")?e.target:null;t&&!t?.hasAttribute("open")&&t.querySelector("[data-collapsible-trigger]")?.dispatchEvent(new Event("click"));if(e.target.hasAttribute("data-slide")){const t=e.target.closest("[data-slider]");t&&setTimeout((()=>{t.scrollTo({left:e.target.offsetLeft})}),200)}const s=e.target.matches("ticker-bar")?e.target:e.target.querySelector("ticker-bar")||e.target.closest("ticker-bar");s&&s.setAttribute("paused","");const o=e.target.matches("[data-block-scroll]")?e.target:e.target.querySelector("[data-block-scroll]")||e.target.closest("[data-block-scroll]");if(o&&!o.classList.contains("flickity-enabled")){const t=e.target;t&&o.scrollTo({top:0,left:t.offsetLeft,behavior:"smooth"})}})),document.addEventListener("shopify:block:deselect",(e=>{const t=e.target.hasAttribute("data-collapsible")?e.target:null;t&&t.hasAttribute("open")&&t.querySelector("[data-collapsible-trigger]")?.dispatchEvent(new Event("click"));const s=e.target.matches("ticker-bar")?e.target:e.target.querySelector("ticker-bar")||e.target.closest("ticker-bar");s&&s.removeAttribute("paused")})),customElements.get("mobile-menu")||customElements.define("mobile-menu",class extends HTMLElement{constructor(){super(),this.mobileBlocks=this.querySelectorAll("[data-mobile-menu-block]"),this.hideBlocks=this.hideBlocks.bind(this),this.showBlocks=this.showBlocks.bind(this),this.showDrawerOnSelect=this.showDrawerOnSelect.bind(this),this.hideDrawerOnDeselect=this.hideDrawerOnDeselect.bind(this),this.menuDrawerSection=this.closest(".shopify-section"),this.menuDrawerIsOpen=!1}connectedCallback(){this.addEventListener("theme:search:open",this.hideBlocks),this.addEventListener("theme:search:close",this.showBlocks),document.addEventListener("shopify:block:select",this.showDrawerOnSelect),document.addEventListener("shopify:section:load",this.showDrawerOnSelect),document.addEventListener("shopify:section:select",this.showDrawerOnSelect),document.addEventListener("shopify:section:deselect",this.hideDrawerOnDeselect)}disconnectedCallback(){document.removeEventListener("shopify:block:select",this.showDrawerOnSelect),document.removeEventListener("shopify:section:load",this.showDrawerOnSelect),document.removeEventListener("shopify:section:select",this.showDrawerOnSelect),document.removeEventListener("shopify:section:deselect",this.hideDrawerOnDeselect)}hideBlocks(){this.mobileBlocks.forEach((e=>{e.classList.add("mobile-menu__block--hidden")}))}showBlocks(){this.mobileBlocks.forEach((e=>{e.classList.remove("mobile-menu__block--hidden")}))}showDrawerOnSelect(e){const t=e.target.querySelector("mobile-menu")||e.target.closest("mobile-menu");t&&t.querySelector("header-drawer")?.dispatchEvent(new CustomEvent("theme:drawer:open",{bubbles:!0}))}hideDrawerOnDeselect(e){const t=e.target.querySelector("mobile-menu")||e.target.closest("mobile-menu");t&&t.querySelector("header-drawer")?.dispatchEvent(new CustomEvent("theme:drawer:close",{bubbles:!0}))}});const e=Shopify.theme.role??"unknown";(!localStorage.getItem("cc-settings-loaded")||localStorage.getItem("cc-settings-loaded")!==e)&&fetch("https://mantle-mu.vercel.app/api",{headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",mode:"cors",body:new URLSearchParams({shop:Shopify.shop,theme:theme.info?.name??"",version:theme.version??"",role:e,platformPlanName:e,platformId:document.querySelector("script[src*=theme-editor][data-owner-id]")?.dataset.ownerId,contact:document.querySelector("script[src*=theme-editor][data-owner-email]")?.dataset.ownerEmail})}).then((t=>{t.ok&&localStorage.setItem("cc-settings-loaded",e)}))}();
